[tool.isort]
profile = "black"

[[tool.mypy.overrides]]
module = "jwcrypto.*"
ignore_missing_imports = true

[tool.mypy]
plugins = ["mypy_django_plugin.main"]

[tool.django-stubs]
django_settings_module = "tests.django_settings"

[tool.coverage.run]
concurrency = ["greenlet"]

[tool.pytest.ini_options]
pythonpath = "."
asyncio_mode = "strict"
DJANGO_SETTINGS_MODULE = "tests.django_settings"


[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[tool.flit.module]
name = "fief_client"

[project]
name = "fief-client"
authors = [
  { name = "FranÃ§ois Voron", email = "contact@fief.dev" }
]
description = "Fief Client for Python"
classifiers = [
    "License :: OSI Approved :: MIT License",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3 :: Only",
]
dynamic = ["version"]
requires-python = ">=3.7"
dependencies = [
    "httpx >=0.21.3,<0.23.0",
    "jwcrypto ==1.3",
    "typing-extensions >=4.0.1; python_version < '3.8'",
]

[project.optional-dependencies]
dev = [
  "black",
  "bumpversion",
  "coverage[toml]",
  "django-stubs",
  "flit",
  "greenlet",
  "isort",
  "mypy",
  "pytest",
  "pytest-cov",
  "pytest-django",
  "pytest-asyncio",
  "pytest-mock",
  "respx",
  "tryceratops",
  "uvicorn[standard]",
]

fastapi = [
  "fastapi",
  "makefun ==1.13.1",
]

flask = [
  "flask",
]

django = [
  "django",
]

[project.urls]
Documentation = "https://github.com/fief-dev/fief-python"

[tool.flit.sdist]
exclude = ["tests"]
